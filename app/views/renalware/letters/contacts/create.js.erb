<% if contact.errors.empty? %>
  $("#contacts").html("<%= escape_javascript(
    render "table", contacts: contacts
  ) %>");
  $('#add-patient-contact-modal').foundation('reveal', 'close');
  $(document).trigger("contact-added", <%= contact.to_json.html_safe %>);
<% else %>
  $("<%= dom_id(contact, "#new") %>").replaceWith("<%= escape_javascript(
    render "new", patient: patient, contact: contact
   ) %>");
<% end %>
